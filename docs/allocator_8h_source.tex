\doxysection{allocator.\+h}
\hypertarget{allocator_8h_source}{}\label{allocator_8h_source}\index{C:/Users/matanel/Desktop/Projects/KernelDevelopment/kernel/memory/allocator/allocator.h@{C:/Users/matanel/Desktop/Projects/KernelDevelopment/kernel/memory/allocator/allocator.h}}
\mbox{\hyperlink{allocator_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00001}00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00002}00002\ \textcolor{comment}{\ *\ PROJECT:\ \ \ \ \ MatanelOS\ Kernel}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00003}00003\ \textcolor{comment}{\ *\ LICENSE:\ \ \ \ \ NONE}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00004}00004\ \textcolor{comment}{\ *\ PURPOSE:\ \ \ \ \ Dynamic\ Memory\ Allocation\ Header.}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00005}00005\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00006}00006\ \textcolor{preprocessor}{\#ifndef\ X86\_ALLOCATOR\_H}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00007}00007\ \textcolor{preprocessor}{\#define\ X86\_ALLOCATOR\_H}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00009}\mbox{\hyperlink{allocator_8h_aa884a3bb19dee79e8e3ca8a529726372}{00009}}\ \textcolor{preprocessor}{\#define\ PHYS\_MEM\_OFFSET\ 0xffff880000000000ULL}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00011}00011\ \textcolor{comment}{//\ Standard\ headers,\ required.}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00013}00013\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{cpu_8h}{../../cpu/cpu.h}}"{}}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00016}00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{trace_8h}{../../trace.h}}"{}}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00017}00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{uefi__memory_8h}{uefi\_memory.h}}"{}}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00019}\mbox{\hyperlink{allocator_8h_af9b1b2ba12857a4bf11289dac8c5462d}{00019}}\ \textcolor{preprocessor}{\#define\ FRAME\_SIZE\ 4096ULL}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00026}00026\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ classify(\textcolor{keywordtype}{int}\ type)\ \{}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00027}00027\ \ \ \ \ \textcolor{keywordflow}{return}\ type\ ==\ \mbox{\hyperlink{uefi__memory_8h_af095fe56818f3bd8a310206b8777bb1c}{EfiConventionalMemory}};}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00028}00028\ \}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00030}00030\ \textcolor{comment}{//\ Initialize\ frame\ bitmap\ based\ on\ UEFI\ memory\ map}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00031}00031\ \textcolor{comment}{//\ Must\ be\ called\ after\ gEfiMemoryMap*\ variables\ are\ set}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00032}00032\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{allocator_8h_af4512add62b5d487bf56ff115f3e16d7}{frame\_bitmap\_init}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00034}00034\ \textcolor{comment}{//\ Allocate\ one\ 4KiB\ physical\ frame;\ returns\ physical\ address\ or\ 0\ if\ NULL.}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00035}00035\ uintptr\_t\ \mbox{\hyperlink{allocator_8h_a8bb840f3e319d15269adf7f9110f4bc9}{alloc\_frame}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00037}00037\ \textcolor{comment}{//\ Free\ a\ previously\ allocated\ frame\ (pass\ the\ physical\ address)}}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00038}00038\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{allocator_8h_a000852beb10aa667f95a9ac94ebe847c}{free\_frame}}(uintptr\_t\ p);}
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00039}00039\ }
\DoxyCodeLine{\Hypertarget{allocator_8h_source_l00040}00040\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ ALLOCATOR\_H}}

\end{DoxyCode}
