\doxysection{fat32.\+h}
\hypertarget{fat32_8h_source}{}\label{fat32_8h_source}\index{C:/Users/matanel/Desktop/Projects/KernelDevelopment/kernel/filesystem/fat32/fat32.h@{C:/Users/matanel/Desktop/Projects/KernelDevelopment/kernel/filesystem/fat32/fat32.h}}
\mbox{\hyperlink{fat32_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00001}\mbox{\hyperlink{fat32_8h_ae508953494a83c161d64cf4426195be5}{00001}}\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00002}00002\ \textcolor{comment}{\ *\ PROJECT:\ \ \ \ \ MatanelOS\ Kernel}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00003}00003\ \textcolor{comment}{\ *\ LICENSE:\ \ \ \ \ NONE}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00004}00004\ \textcolor{comment}{\ *\ PURPOSE:\ \ \ \ \ FAT32\ FileSystem\ Headers.}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00005}00005\ \textcolor{comment}{\ */}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00007}00007\ \textcolor{preprocessor}{\#ifndef\ X86\_KERNEL\_FILESYSTEM\_FAT32\_HEADER}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00008}00008\ \textcolor{preprocessor}{\#define\ X86\_KERNEL\_FILESYSTEM\_FAT32\_HEADER}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00009}00009\ \ \textcolor{comment}{//\ Standard\ headers,\ required.}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00010}00010\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00013}00013\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{gop_8h}{../../drivers/gop/gop.h}}"{}}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{mtstatus_8h}{../../mtstatus.h}}"{}}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00016}\mbox{\hyperlink{fat32_8h_a01a4677c2b328cdba713cab62e32be98}{00016}}\ \textcolor{preprocessor}{\#define\ END\_OF\_DIRECTORY\ 0x00}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00017}\mbox{\hyperlink{fat32_8h_a13d53413ae07f492b97b8601defb7ded}{00017}}\ \textcolor{preprocessor}{\#define\ DELETED\_DIR\_ENTRY\ 0xE5}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00020}\mbox{\hyperlink{fat32_8h_a5ff4dc4c397826c78133ab3a0aef8a29}{00020}}\ \textcolor{preprocessor}{\#define\ FAT32\_FAT\_MASK\ \ \ \ \ \ \ \ 0x0FFFFFFFU}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00021}\mbox{\hyperlink{fat32_8h_afe8fd55f0bfe3298617abf763e3d2b4e}{00021}}\ \textcolor{preprocessor}{\#define\ FAT32\_FREE\_CLUSTER\ \ \ \ 0x00000000U}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00022}\mbox{\hyperlink{fat32_8h_a4fbce46a65986c35ff2fa311a332e78f}{00022}}\ \textcolor{preprocessor}{\#define\ FAT32\_BAD\_CLUSTER\ \ \ \ \ 0x0FFFFFF7U}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00023}\mbox{\hyperlink{fat32_8h_a953c1f1fe3a6a422cdd94810ca7b3a57}{00023}}\ \textcolor{preprocessor}{\#define\ FAT32\_EOC\_MIN\ \ \ \ \ \ \ \ \ 0x0FFFFFF8U\ }\textcolor{comment}{/*\ inclusive\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00024}\mbox{\hyperlink{fat32_8h_a99149ec7c69bacef240eb2a711cd68cf}{00024}}\ \textcolor{preprocessor}{\#define\ FAT32\_EOC\_MAX\ \ \ \ \ \ \ \ \ 0x0FFFFFFFU\ }\textcolor{comment}{/*\ inclusive\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00028}00028\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00029}00029\ \textcolor{preprocessor}{\#pragma\ pack(push,\ 1)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00030}00030\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_FAT32\_BPB\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00031}00031\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00032}00032\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct____attribute____}{\_\_attribute\_\_}}((packed))\ \_FAT32\_BPB\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00033}00033\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00034}00034\ \ \ \ \ uint8\_t\ jump[3];}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00035}00035\ \ \ \ \ uint8\_t\ oem[8];}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00036}00036\ \ \ \ \ uint16\_t\ bytes\_per\_sector;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00037}00037\ \ \ \ \ uint8\_t\ sectors\_per\_cluster;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00038}00038\ \ \ \ \ uint16\_t\ reserved\_sector\_count;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00039}00039\ \ \ \ \ uint8\_t\ num\_fats;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00040}00040\ \ \ \ \ uint16\_t\ root\_entry\_count;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00041}00041\ \ \ \ \ uint16\_t\ total\_sectors\_16;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00042}00042\ \ \ \ \ uint8\_t\ media;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00043}00043\ \ \ \ \ uint16\_t\ fat\_size\_16;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00044}00044\ \ \ \ \ uint16\_t\ sectors\_per\_track;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00045}00045\ \ \ \ \ uint16\_t\ num\_heads;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00046}00046\ \ \ \ \ uint32\_t\ hidden\_sectors;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00047}00047\ \ \ \ \ uint32\_t\ total\_sectors\_32;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00048}00048\ \ \ \ \ uint32\_t\ fat\_size\_32;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00049}00049\ \ \ \ \ uint16\_t\ ext\_flags;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00050}00050\ \ \ \ \ uint16\_t\ fs\_version;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00051}00051\ \ \ \ \ uint32\_t\ root\_cluster;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00052}00052\ \ \ \ \ uint16\_t\ fs\_info\_sector;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00053}00053\ \ \ \ \ uint16\_t\ backup\_root\_sector;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00054}\mbox{\hyperlink{mh_8h_a720173e80c53ae6b5fa163fd6e81ad27}{00054}}\ \}\ \mbox{\hyperlink{fat32_8h_a520b4af7b127966e48892bf842ca8ea8}{FAT32\_BPB}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00055}00055\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00056}00056\ \textcolor{preprocessor}{\#pragma\ pack(pop)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00057}00057\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00059}00059\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00060}00060\ \textcolor{preprocessor}{\#pragma\ pack(push,\ 1)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00061}00061\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\_FAT32\_DIR\_ENTRY\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00062}00062\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00063}00063\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{mh_8h_a720173e80c53ae6b5fa163fd6e81ad27}{\_\_attribute\_\_}}((packed))\ \_FAT32\_DIR\_ENTRY\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00064}00064\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00065}00065\ \ \ \ \ \textcolor{keywordtype}{char}\ name[11];}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00066}00066\ \ \ \ \ uint8\_t\ attr;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00067}00067\ \ \ \ \ uint8\_t\ nt\_res;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00068}00068\ \ \ \ \ uint8\_t\ crt\_time\_tenth;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00069}00069\ \ \ \ \ uint16\_t\ crt\_time;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00070}00070\ \ \ \ \ uint16\_t\ crt\_date;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00071}00071\ \ \ \ \ uint16\_t\ lst\_acc\_date;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00072}00072\ \ \ \ \ uint16\_t\ fst\_clus\_hi;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00073}00073\ \ \ \ \ uint16\_t\ wrt\_time;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00074}00074\ \ \ \ \ uint16\_t\ wrt\_date;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00075}00075\ \ \ \ \ uint16\_t\ fst\_clus\_lo;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00076}00076\ \ \ \ \ uint32\_t\ file\_size;}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00077}\mbox{\hyperlink{fat32_8h_a818bd287914bc3e1f740d86bc1631515}{00077}}\ \}\ \mbox{\hyperlink{fat32_8h_a818bd287914bc3e1f740d86bc1631515}{FAT32\_DIR\_ENTRY}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00078}00078\ \textcolor{preprocessor}{\#ifdef\ \_MSC\_VER}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00079}00079\ \textcolor{preprocessor}{\#pragma\ pack(pop)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00080}00080\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00081}00081\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00082}00082\ \textcolor{preprocessor}{\#pragma\ pack(push,1)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00083}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y}{00083}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00084}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_aa5fc7afa139419b369ec6ae270abef71}{00084}}\ \ \ \ \ uint8\_t\ \ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_aa5fc7afa139419b369ec6ae270abef71}{LDIR\_Ord}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00085}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a7b35b67dbfecc4195dc525200e1d66e6}{00085}}\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a7b35b67dbfecc4195dc525200e1d66e6}{LDIR\_Name1}}[5];}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00086}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a7abe6a0c2b0f8e9472403da1bfdeb731}{00086}}\ \ \ \ \ uint8\_t\ \ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a7abe6a0c2b0f8e9472403da1bfdeb731}{LDIR\_Attr}};\ \ \ \textcolor{comment}{//\ always\ 0x0F}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00087}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a11b0c76807c76703cafe89b24a6b7e3b}{00087}}\ \ \ \ \ uint8\_t\ \ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a11b0c76807c76703cafe89b24a6b7e3b}{LDIR\_Type}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00088}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a2528358b2488e8eb9183cf409a1d467b}{00088}}\ \ \ \ \ uint8\_t\ \ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a2528358b2488e8eb9183cf409a1d467b}{LDIR\_Chksum}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00089}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_ad6e6da7769594a25b5a70d363f03fa97}{00089}}\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_ad6e6da7769594a25b5a70d363f03fa97}{LDIR\_Name2}}[6];}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00090}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a178df1bb3c358a429d7f62d393ee7c98}{00090}}\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_a178df1bb3c358a429d7f62d393ee7c98}{LDIR\_FstClusLO}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00091}\mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_aeab7bcdd372573ef59c8d8960fdf9d59}{00091}}\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y_aeab7bcdd372573ef59c8d8960fdf9d59}{LDIR\_Name3}}[2];}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00092}00092\ \}\ \mbox{\hyperlink{struct_f_a_t32___l_f_n___e_n_t_r_y}{FAT32\_LFN\_ENTRY}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00093}00093\ \textcolor{preprocessor}{\#pragma\ pack(pop)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00095}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o}{00095}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o}{\_FAT32\_FSINFO}}\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00096}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a84faafa52093abcf47e5c060c4829eff}{00096}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a84faafa52093abcf47e5c060c4829eff}{first\_data\_sector}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00097}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a8f7173a14bd041462761634e52a57e86}{00097}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a8f7173a14bd041462761634e52a57e86}{root\_cluster}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00098}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a6ec21851e444c4249d432cc78dca46cc}{00098}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a6ec21851e444c4249d432cc78dca46cc}{sectors\_per\_fat}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00099}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a9c827b0f9825371a2853396b85e4579d}{00099}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a9c827b0f9825371a2853396b85e4579d}{bytes\_per\_sector}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00100}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a15921b8a6aa9e9b06d398f8444d7d785}{00100}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a15921b8a6aa9e9b06d398f8444d7d785}{sectors\_per\_cluster}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00101}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a21081ba8091ae01de66bbbcc125b1eab}{00101}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a21081ba8091ae01de66bbbcc125b1eab}{fat\_start}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00102}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a8a0e3c08b5b5adbffd764906e068086f}{00102}}\ \ \ \ \ uint16\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a8a0e3c08b5b5adbffd764906e068086f}{reserved\_sector\_count}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00103}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a705fe585a4b364eb3835fd53874b00fa}{00103}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a705fe585a4b364eb3835fd53874b00fa}{total\_sectors}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00104}\mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a3d386e79882cf404c9e62c5ccdf4f3cf}{00104}}\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct___f_a_t32___f_s_i_n_f_o_a3d386e79882cf404c9e62c5ccdf4f3cf}{total\_clusters}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00105}\mbox{\hyperlink{fat32_8h_a73bda61a043f5e3e7c3a0d9894aab160}{00105}}\ \}\ \mbox{\hyperlink{fat32_8h_a73bda61a043f5e3e7c3a0d9894aab160}{FAT32\_FSINFO}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00107}00107\ \textcolor{comment}{//\ Initialize\ a\ FAT32\ FileSystem\ on\ a\ given\ block\ device.}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00108}00108\ \mbox{\hyperlink{mtstatus_8h_a7c794b38d203a5b842f27b12fb55495a}{MTSTATUS}}\ \mbox{\hyperlink{fat32_8c_a311ce2a795c9e78112568a0b90d4cbe8}{fat32\_init}}(\textcolor{keywordtype}{int}\ disk\_index);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00109}00109\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00110}00110\ \textcolor{comment}{//\ List\ files\ in\ root\ dir}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00111}00111\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{fat32_8c_adfca68a881df4fb301c3d55a00a781df}{fat32\_list\_root}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00113}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9}{00113}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9}{\_FAT32\_ATTRIBUTES}}\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00114}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9aa62aa71a2614f75468eab045ecb01058}{00114}}\ \ \ \ \ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9aa62aa71a2614f75468eab045ecb01058}{ATTR\_READ\_ONLY}}\ =\ 0x01,\ \ \textcolor{comment}{//\ File\ is\ read-\/only}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00115}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9adba6b13cf372c3604ae08f82d1cec0cf}{00115}}\ \ \ \ \ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9adba6b13cf372c3604ae08f82d1cec0cf}{ATTR\_HIDDEN}}\ =\ 0x02,\ \ \textcolor{comment}{//\ File\ is\ hidden}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00116}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9a042322e39228b60dba114d89308f6f79}{00116}}\ \ \ \ \ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9a042322e39228b60dba114d89308f6f79}{ATTR\_SYSTEM}}\ =\ 0x04,\ \ \textcolor{comment}{//\ System\ file}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00117}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9a9e0fbe74c774ea9eee50947567a5dc59}{00117}}\ \ \ \ \ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9a9e0fbe74c774ea9eee50947567a5dc59}{ATTR\_VOLUME\_ID}}\ =\ 0x08,\ \ \textcolor{comment}{//\ Volume\ label}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00118}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9acf549625a8c00e27507689cd3cbeeac6}{00118}}\ \ \ \ \ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9acf549625a8c00e27507689cd3cbeeac6}{ATTR\_DIRECTORY}}\ =\ 0x10,\ \ \textcolor{comment}{//\ Entry\ is\ a\ directory}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00119}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9ae175dcdcbee800b5a346fc5c4365315b}{00119}}\ \ \ \ \ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9ae175dcdcbee800b5a346fc5c4365315b}{ATTR\_ARCHIVE}}\ =\ 0x20,\ \ \textcolor{comment}{//\ File\ should\ be\ archived}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00120}00120\ \ \ \ \ \textcolor{comment}{//\ Special\ combination\ values}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00121}\mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9a9c788ada0bf37d73182045d699331050}{00121}}\ \ \ \ \ \mbox{\hyperlink{fat32_8h_a67216fc3fefe045f0a5a3accc9ee31f9a9c788ada0bf37d73182045d699331050}{ATTR\_LONG\_NAME}}\ =\ 0x0F,\ \ \textcolor{comment}{//\ Long\ File\ Name\ entry\ (ATTR\_READ\_ONLY\ |\ ATTR\_HIDDEN\ |\ ATTR\_SYSTEM\ |\ ATTR\_VOLUME\_ID)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00122}\mbox{\hyperlink{fat32_8h_a6f328ae0e81b19b3c985381adabaa6bd}{00122}}\ \}\ \mbox{\hyperlink{fat32_8h_a6f328ae0e81b19b3c985381adabaa6bd}{FAT32\_ATTRIBUTES}};}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00123}00123\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00124}00124\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint16\_t\ fat32\_encode\_date(uint16\_t\ year,\ uint8\_t\ month,\ uint8\_t\ day)\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00125}00125\ \ \ \ \ \textcolor{comment}{//\ FAT\ date:\ YYYYYYYMMMMDDDDD\ (since\ 1980)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00126}00126\ \ \ \ \ \textcolor{keywordflow}{return}\ ((year\ -\/\ 1980)\ <<\ 9)\ |\ (month\ <<\ 5)\ |\ (day);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00127}00127\ \}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00129}00129\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ uint16\_t\ fat32\_encode\_time(uint8\_t\ hour,\ uint8\_t\ min,\ uint8\_t\ sec)\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00130}00130\ \ \ \ \ \textcolor{comment}{//\ FAT\ time:\ HHHHHMMMMMMSSSSS\ (seconds\ /\ 2)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00131}00131\ \ \ \ \ \textcolor{keywordflow}{return}\ (hour\ <<\ 11)\ |\ (min\ <<\ 5)\ |\ (sec\ /\ 2);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00132}00132\ \}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00134}00134\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ fat32\_decode\_date(uint16\_t\ date,\ uint16\_t*\ year,\ uint8\_t*\ month,\ uint8\_t*\ day)\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00135}00135\ \ \ \ \ *year\ =\ 1980\ +\ ((date\ >>\ 9)\ \&\ 0x7F);\ \textcolor{comment}{//\ 7\ bits\ for\ year}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00136}00136\ \ \ \ \ *month\ =\ (date\ >>\ 5)\ \&\ 0x0F;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 4\ bits\ for\ month}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00137}00137\ \ \ \ \ *day\ =\ date\ \&\ 0x1F;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 5\ bits\ for\ day}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00138}00138\ \}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00139}00139\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00140}00140\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ fat32\_decode\_time(uint16\_t\ time,\ uint8\_t*\ hour,\ uint8\_t*\ min,\ uint8\_t*\ sec)\ \{}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00141}00141\ \ \ \ \ *hour\ =\ (time\ >>\ 11)\ \&\ 0x1F;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 5\ bits\ for\ hours}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00142}00142\ \ \ \ \ *min\ =\ (time\ >>\ 5)\ \&\ 0x3F;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 6\ bits\ for\ minutes}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00143}00143\ \ \ \ \ *sec\ =\ (time\ \&\ 0x1F)\ *\ 2;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 5\ bits\ for\ seconds\ (2-\/second\ resolution)}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00144}00144\ \}}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00145}00145\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00153}00153\ \mbox{\hyperlink{mtstatus_8h_a7c794b38d203a5b842f27b12fb55495a}{MTSTATUS}}\ \mbox{\hyperlink{fat32_8c_a71c6c7658a82c589657c4dc0a85e1e63}{fat32\_read\_file}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ filename,\ uint32\_t*\ file\_size\_out,\ \textcolor{keywordtype}{void}**\ buffer\_out);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00154}00154\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00160}00160\ \mbox{\hyperlink{mtstatus_8h_a7c794b38d203a5b842f27b12fb55495a}{MTSTATUS}}\ \mbox{\hyperlink{fat32_8c_a400a63d664bec5e30b5713ff3cbf35a6}{fat32\_create\_directory}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00161}00161\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00170}00170\ \mbox{\hyperlink{mtstatus_8h_a7c794b38d203a5b842f27b12fb55495a}{MTSTATUS}}\ \mbox{\hyperlink{fat32_8c_ac039880198105828d484f919b1de2e59}{fat32\_write\_file}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ data,\ uint32\_t\ size,\ uint32\_t\ file\_modification\_mode);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00179}00179\ \mbox{\hyperlink{mtstatus_8h_a7c794b38d203a5b842f27b12fb55495a}{MTSTATUS}}\ \mbox{\hyperlink{fat32_8c_a467adde29b891f25a9e1cd2365a67197}{fat32\_list\_directory}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path,\ \textcolor{keywordtype}{char}*\ listings,\ \textcolor{keywordtype}{size\_t}\ max\_len);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00180}00180\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00186}00186\ \mbox{\hyperlink{mtstatus_8h_a7c794b38d203a5b842f27b12fb55495a}{MTSTATUS}}\ \mbox{\hyperlink{fat32_8c_a60629b733e5b262b7367d972bf549ea9}{fat32\_delete\_directory}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00187}00187\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00193}00193\ \mbox{\hyperlink{mtstatus_8h_a7c794b38d203a5b842f27b12fb55495a}{MTSTATUS}}\ \mbox{\hyperlink{fat32_8c_ac0fe70241ba5f3c709198b99d8c2b972}{fat32\_delete\_file}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00199}00199\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{fat32_8c_ae59b119946d406d4603400ae2e495700}{fat32\_directory\_is\_empty}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ path);}
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00200}00200\ }
\DoxyCodeLine{\Hypertarget{fat32_8h_source_l00201}00201\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
