<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MyOS: C:/Users/matanel/Desktop/Projects/KernelDevelopment/kernel/interrupts/handlers/handlers.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MyOS<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">A custom os called Matanel, Kernel in Development</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('handlers_8c_source.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">handlers.c</div></div>
</div><!--header-->
<div class="contents">
<a href="handlers_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * PROJECT:     MatanelOS Kernel</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> * LICENSE:     NONE</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * PURPOSE:     Implementation of handler functions for interrupts.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> */</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &quot;<a class="code" href="handlers_8h.html">handlers.h</a>&quot;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="scancodes_8h.html">scancodes.h</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="idt_8h.html">../idt.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">// NOTE TO SELF: DO NOT PUT TRACELAST_FUNC HERE, THESE ARE INTERRUPT/EXCEPTION HANDLERS!</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="keyword">extern</span> <a class="code hl_typedef" href="uefi__memory_8h.html#a76f436ea56fd593cab07a6800d630828">GOP_PARAMS</a> <a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>;</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="foldopen" id="foldopen00015" data-start="{" data-end="};">
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno"><a class="line" href="handlers_8c.html#a8bd92ab3be854bc4caa930a5df66594b">   15</a></span><span class="keywordtype">char</span> <a class="code hl_variable" href="handlers_8c.html#a8bd92ab3be854bc4caa930a5df66594b">scancode_to_ascii</a>[] = {</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>    0,  27, <span class="charliteral">&#39;1&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;3&#39;</span>, <span class="charliteral">&#39;4&#39;</span>, <span class="charliteral">&#39;5&#39;</span>, <span class="charliteral">&#39;6&#39;</span>, <span class="charliteral">&#39;7&#39;</span>, <span class="charliteral">&#39;8&#39;</span>, <span class="charliteral">&#39;9&#39;</span>, <span class="charliteral">&#39;0&#39;</span>, <span class="charliteral">&#39;-&#39;</span>, <span class="charliteral">&#39;=&#39;</span>, <span class="charliteral">&#39;\b&#39;</span>,</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>    <span class="charliteral">&#39;\t&#39;</span>, <span class="charliteral">&#39;q&#39;</span>, <span class="charliteral">&#39;w&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;r&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;y&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;i&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;[&#39;</span>, <span class="charliteral">&#39;]&#39;</span>, <span class="charliteral">&#39;\n&#39;</span>,</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>    0, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;d&#39;</span>, <span class="charliteral">&#39;f&#39;</span>, <span class="charliteral">&#39;g&#39;</span>, <span class="charliteral">&#39;h&#39;</span>, <span class="charliteral">&#39;j&#39;</span>, <span class="charliteral">&#39;k&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;;&#39;</span>, <span class="charliteral">&#39;\&#39;&#39;</span>, <span class="charliteral">&#39;`&#39;</span>,</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>    0, <span class="charliteral">&#39;\\&#39;</span>, <span class="charliteral">&#39;z&#39;</span>, <span class="charliteral">&#39;x&#39;</span>, <span class="charliteral">&#39;c&#39;</span>, <span class="charliteral">&#39;v&#39;</span>, <span class="charliteral">&#39;b&#39;</span>, <span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;,&#39;</span>, <span class="charliteral">&#39;.&#39;</span>, <span class="charliteral">&#39;/&#39;</span>, 0,</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    <span class="charliteral">&#39;*&#39;</span>, 0, <span class="charliteral">&#39; &#39;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>};</div>
</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="foldopen" id="foldopen00023" data-start="{" data-end="};">
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="handlers_8c.html#a1541347c599f4bf15b5f4e3f24fa30e3">   23</a></span><span class="keywordtype">char</span> <a class="code hl_variable" href="handlers_8c.html#a1541347c599f4bf15b5f4e3f24fa30e3">scancode_to_ascii_shift</a>[] = {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    0,  27, <span class="charliteral">&#39;!&#39;</span>, <span class="charliteral">&#39;@&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;$&#39;</span>, <span class="charliteral">&#39;%&#39;</span>, <span class="charliteral">&#39;^&#39;</span>, <span class="charliteral">&#39;&amp;&#39;</span>, <span class="charliteral">&#39;*&#39;</span>, <span class="charliteral">&#39;(&#39;</span>, <span class="charliteral">&#39;)&#39;</span>, <span class="charliteral">&#39;_&#39;</span>, <span class="charliteral">&#39;+&#39;</span>, <span class="charliteral">&#39;\b&#39;</span>,</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <span class="charliteral">&#39;\t&#39;</span>, <span class="charliteral">&#39;Q&#39;</span>, <span class="charliteral">&#39;W&#39;</span>, <span class="charliteral">&#39;E&#39;</span>, <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;T&#39;</span>, <span class="charliteral">&#39;Y&#39;</span>, <span class="charliteral">&#39;U&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;O&#39;</span>, <span class="charliteral">&#39;P&#39;</span>, <span class="charliteral">&#39;{&#39;</span>, <span class="charliteral">&#39;}&#39;</span>, <span class="charliteral">&#39;\n&#39;</span>,</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    0, <span class="charliteral">&#39;A&#39;</span>, <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;D&#39;</span>, <span class="charliteral">&#39;F&#39;</span>, <span class="charliteral">&#39;G&#39;</span>, <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;J&#39;</span>, <span class="charliteral">&#39;K&#39;</span>, <span class="charliteral">&#39;L&#39;</span>, <span class="charliteral">&#39;:&#39;</span>, <span class="charliteral">&#39;&quot;&#39;</span>, <span class="charliteral">&#39;~&#39;</span>,</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    0, <span class="charliteral">&#39;|&#39;</span>, <span class="charliteral">&#39;Z&#39;</span>, <span class="charliteral">&#39;X&#39;</span>, <span class="charliteral">&#39;C&#39;</span>, <span class="charliteral">&#39;V&#39;</span>, <span class="charliteral">&#39;B&#39;</span>, <span class="charliteral">&#39;N&#39;</span>, <span class="charliteral">&#39;M&#39;</span>, <span class="charliteral">&#39;&lt;&#39;</span>, <span class="charliteral">&#39;&gt;&#39;</span>, <span class="charliteral">&#39;?&#39;</span>, 0,</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <span class="charliteral">&#39;*&#39;</span>, 0, <span class="charliteral">&#39; &#39;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>};</div>
</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="keyword">extern</span> uint32_t <a class="code hl_variable" href="bugcheck_8c.html#aed43839a3c8b74504a97930edbe8b735">cursor_x</a>;</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="keyword">extern</span> uint32_t <a class="code hl_variable" href="bugcheck_8c.html#ad3e70ba50f805f295792f5dc66599d51">cursor_y</a>;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="handlers_8c.html#a03355b09418c2d88081c29484c82eccb">   34</a></span><span class="keywordtype">bool</span> <a class="code hl_variable" href="handlers_8c.html#a03355b09418c2d88081c29484c82eccb">shift_pressed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="handlers_8c.html#aec4e866abc16cc8217d33dfae87d5877">   35</a></span><span class="keywordtype">bool</span> <a class="code hl_variable" href="handlers_8c.html#aec4e866abc16cc8217d33dfae87d5877">ctrl_pressed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="handlers_8c.html#aca50450c34efc412517edefbb05ea87a">   36</a></span><span class="keywordtype">bool</span> <a class="code hl_variable" href="handlers_8c.html#aca50450c34efc412517edefbb05ea87a">caps_lock_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno"><a class="line" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">   37</a></span><span class="keywordtype">bool</span> <a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="foldopen" id="foldopen00039" data-start="{" data-end="}">
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="handlers_8c.html#ac3a72156d4bbba013e4d62801992794d">   39</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#ac3a72156d4bbba013e4d62801992794d">init_keyboard</a>() {</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <a class="code hl_variable" href="handlers_8c.html#a03355b09418c2d88081c29484c82eccb">shift_pressed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <a class="code hl_variable" href="handlers_8c.html#aec4e866abc16cc8217d33dfae87d5877">ctrl_pressed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <a class="code hl_variable" href="handlers_8c.html#aca50450c34efc412517edefbb05ea87a">caps_lock_on</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    <a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>}</div>
</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="foldopen" id="foldopen00046" data-start="{" data-end="}">
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="handlers_8c.html#a2f4098fc71cbd39422c1001d66970bf5">   46</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a2f4098fc71cbd39422c1001d66970bf5">keyboard_handler</a>() {</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <span class="comment">// Read the scan port from the status port.</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> scancode = __inbyte(<a class="code hl_define" href="handlers_8h.html#a49e0a04e81098085d2948c1e9f8c99cb">KEYBOARD_DATA_PORT</a>);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="comment">// Extended scancode recognition.</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <span class="keywordflow">if</span> (scancode == 0xE0) {</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        <a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>        __outbyte(0x20, <a class="code hl_define" href="idt_8h.html#a170d8eebdb48c16cfcd60cbd46760cb2">PIC_EOI</a>); <span class="comment">//ack</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    }</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a>) {</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        <span class="comment">// second byte of extended scancode.</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        <span class="keywordflow">switch</span> (scancode) {</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="scancodes_8h.html#aa768204f007f39e026b44a9c749a01f2">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_UP</a>:</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>            <a class="code hl_variable" href="bugcheck_8c.html#ad3e70ba50f805f295792f5dc66599d51">cursor_y</a>--; <span class="comment">// reveresd, even though it&#39;s - on the y scale, it goes up on screen.</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>            <a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>            __outbyte(0x20, <a class="code hl_define" href="idt_8h.html#a170d8eebdb48c16cfcd60cbd46760cb2">PIC_EOI</a>); <span class="comment">//ack</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="scancodes_8h.html#a093a7a1d5631e4b6d418b68d84c061f3">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_DOWN</a>:</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>            <a class="code hl_variable" href="bugcheck_8c.html#ad3e70ba50f805f295792f5dc66599d51">cursor_y</a>++;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>            <a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>            __outbyte(0x20, <a class="code hl_define" href="idt_8h.html#a170d8eebdb48c16cfcd60cbd46760cb2">PIC_EOI</a>);</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="scancodes_8h.html#a8f68d454a58c300470d4b9aff84942ce">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_RIGHT</a>:</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>            <a class="code hl_variable" href="bugcheck_8c.html#aed43839a3c8b74504a97930edbe8b735">cursor_x</a>++;</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>            <a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>            __outbyte(0x20, <a class="code hl_define" href="idt_8h.html#a170d8eebdb48c16cfcd60cbd46760cb2">PIC_EOI</a>);</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="scancodes_8h.html#aef133551f8fb1e1fd7a6107dde5466e6">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_LEFT</a>:</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>            <a class="code hl_variable" href="bugcheck_8c.html#aed43839a3c8b74504a97930edbe8b735">cursor_x</a>--;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>            <a class="code hl_variable" href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>            __outbyte(0x20, <a class="code hl_define" href="idt_8h.html#a170d8eebdb48c16cfcd60cbd46760cb2">PIC_EOI</a>);</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>        }</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    }</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="comment">// Check if it&#39;s a key press, bit 7 of the inbyte.</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    <span class="comment">// 0x80 in binary is 1000 0000 -&gt; BIT 7 AND -&gt; if 1 - press, if 0 release.</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="keywordflow">if</span> (!(scancode &amp; 0x80)) {</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        <span class="comment">// Conver scan code to ASCII to see if it&#39;s even a printable character.</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>        <span class="keywordflow">if</span> ((scancode &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="handlers_8c.html#a8bd92ab3be854bc4caa930a5df66594b">scancode_to_ascii</a>) &amp;&amp; <a class="code hl_variable" href="handlers_8c.html#a8bd92ab3be854bc4caa930a5df66594b">scancode_to_ascii</a>[scancode]) || (scancode &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="handlers_8c.html#a1541347c599f4bf15b5f4e3f24fa30e3">scancode_to_ascii_shift</a>) &amp;&amp; <a class="code hl_variable" href="handlers_8c.html#a1541347c599f4bf15b5f4e3f24fa30e3">scancode_to_ascii_shift</a>[scancode])) {</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>            <span class="keywordtype">char</span> key = <a class="code hl_variable" href="handlers_8c.html#a8bd92ab3be854bc4caa930a5df66594b">scancode_to_ascii</a>[scancode];</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>            <span class="keywordtype">char</span> keyShift = <a class="code hl_variable" href="handlers_8c.html#a1541347c599f4bf15b5f4e3f24fa30e3">scancode_to_ascii_shift</a>[scancode];</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>            <span class="keywordtype">char</span> str[2] = { key, <span class="charliteral">&#39;\0&#39;</span> }; <span class="comment">// default string (key) + null terminator.</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            <span class="keywordtype">char</span> strShift[2] = { keyShift, <span class="charliteral">&#39;\0&#39;</span> };</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>            <span class="keywordflow">switch</span> (key) {</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>: <span class="comment">// newline char</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>                <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;\b&#39;</span>: <span class="comment">// backspace</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0, <span class="stringliteral">&quot;\b \b&quot;</span>);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>            <span class="keywordflow">case</span> <span class="charliteral">&#39;\t&#39;</span>: <span class="comment">// TAB</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>                <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0, <span class="stringliteral">&quot;    &quot;</span>);</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="handlers_8c.html#a03355b09418c2d88081c29484c82eccb">shift_pressed</a> || <a class="code hl_variable" href="handlers_8c.html#aca50450c34efc412517edefbb05ea87a">caps_lock_on</a>) {</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                    <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, (uint32_t)-1, strShift); <span class="comment">// basically underflow to max 32bit val.</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                }</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>                    <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, (uint32_t)-1, str); <span class="comment">// basically underflow to max 32bit val.</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>                }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>            }</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        <span class="keywordflow">switch</span> (scancode) {</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="scancodes_8h.html#a02f6fdc117edff5bfcdc66ee3d62398f">KEYBOARD_SCANCODE_PRESSED_LEFT_SHIFT</a>:</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>            <a class="code hl_variable" href="handlers_8c.html#a03355b09418c2d88081c29484c82eccb">shift_pressed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="scancodes_8h.html#a838e608083862972f20f923742dad707">KEYBOARD_SCANCODE_PRESSED_CAPS_LOCK</a>:</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>            <a class="code hl_variable" href="handlers_8c.html#aca50450c34efc412517edefbb05ea87a">caps_lock_on</a> = !<a class="code hl_variable" href="handlers_8c.html#aca50450c34efc412517edefbb05ea87a">caps_lock_on</a>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        }</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span> </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    }</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        <span class="comment">// It&#39;s a release, bit 7 is 0.</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        <span class="keywordflow">switch</span> (scancode) {</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <span class="keywordflow">case</span> <a class="code hl_define" href="scancodes_8h.html#a4d0a3c995b55a478cb45183d5862839d">KEYBOARD_SCANCODE_RELEASE_LEFT_SHIFT</a>:</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>            <a class="code hl_variable" href="handlers_8c.html#a03355b09418c2d88081c29484c82eccb">shift_pressed</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        }</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span> </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    }</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <span class="comment">// Send End Of Interrupt (EOI) to the PIC.</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    __outbyte(0x20, <a class="code hl_define" href="idt_8h.html#a170d8eebdb48c16cfcd60cbd46760cb2">PIC_EOI</a>); <span class="comment">// Only sent to master since this is a master interrupt.</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>}</div>
</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="foldopen" id="foldopen00134" data-start="{" data-end="}">
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="handlers_8c.html#a60d47ef3d9ff7566f06b13180b08bb29">  134</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a60d47ef3d9ff7566f06b13180b08bb29">init_timer</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> frequency) {</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> divisor = 1193180 / frequency;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <span class="comment">// Send the command byte</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    __outbyte(0x43, 0x36);  <span class="comment">// Channel 0, lobyte/hibyte, mode 3 (square wave)</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="comment">// Send the frequency divisor</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    __outbyte(0x40, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)(divisor &amp; 0xFF));       <span class="comment">// Low byte</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    __outbyte(0x40, (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)((divisor &gt;&gt; 8) &amp; 0xFF)); <span class="comment">// High byte</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>}</div>
</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="keyword">static</span> <a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a> dummyCtx;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="keyword">static</span> <a class="code hl_typedef" href="cpu__types_8h.html#ab4a5c3c2096f05e5f0db35f80685b4a2">DPC</a> scheduleDpc = {</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    .Next = NULL,</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    .callback = <a class="code hl_function" href="scheduler_8c.html#a5cd3bdc987e82c62c283955de9576114">TimerDPC</a>,</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    .ctx = &amp;dummyCtx, </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>    .Kind = <a class="code hl_enumvalue" href="cpu__types_8h.html#a5d218e5c26f9e9afec421f768f8d0b02abd393abde0837104a6fa0e441d063e78">DPC_SCHEDULE</a>,</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    .hasCtx = <span class="keyword">false</span>,</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    .priority = <a class="code hl_enumvalue" href="cpu__types_8h.html#ab43279866db2c797f7ec886b4ac344d6a06b314d863076d54942e065d90c179c4">MEDIUM_PRIORITY</a></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>};</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code hl_variable" href="scheduler_8c.html#aa019b7be548d953c1444c81e2e8145a0">isScheduleDpcQueued</a>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="foldopen" id="foldopen00157" data-start="{" data-end="}">
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="handlers_8c.html#a9e63ea32abae3f871fcbe66fd99003b2">  157</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a9e63ea32abae3f871fcbe66fd99003b2">timer_handler</a>() {</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="scheduler_8c.html#aa019b7be548d953c1444c81e2e8145a0">isScheduleDpcQueued</a>) {</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        <a class="code hl_function" href="dpc_8c.html#a259cfa6004e8db5410d537c1169015c9">queue_dpc</a>(&amp;scheduleDpc);</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <a class="code hl_variable" href="scheduler_8c.html#aa019b7be548d953c1444c81e2e8145a0">isScheduleDpcQueued</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    }</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>}</div>
</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="foldopen" id="foldopen00164" data-start="{" data-end="}">
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="handlers_8c.html#acf90c91bd409d8a245d668b907a3ff40">  164</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#acf90c91bd409d8a245d668b907a3ff40">ata_handler</a>(<span class="keywordtype">void</span>) {</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">// Just send EOI to both PICS.</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    __outbyte(0xA0, 0x20);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    __outbyte(0x20, 0x20);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>}</div>
</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="foldopen" id="foldopen00170" data-start="{" data-end="}">
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="handlers_8c.html#ac6967370e83425329246124a56e29b57">  170</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#ac6967370e83425329246124a56e29b57">pagefault_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    uint64_t fault_addr;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    <span class="comment">// cr2 holds the faulty address that caused the page fault.</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    __asm__ __volatile__ (</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="stringliteral">&quot;movq %%cr2, %0&quot;</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    : <span class="stringliteral">&quot;=r&quot;</span>(fault_addr)</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    );</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a2db740fb6a5417e1647960fb0f8a3a33">PAGE_FAULT</a>, fault_addr, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// __hlt(); -&gt; When an HLT instruction is called when the CPU is in interrupt mode, (interrupts are already disabled to let this interrupt go through), iretd never executes, and so the CPU Is just stuck in place. Only an NMI or SMI can wake the processor back up</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// NMI - Non Maskable Interrupt, happens when a watchdog timer expires, system bus errors, (or memory parity errors, that rarily occur in modern systems).</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="comment">// SMI - A System Managment Interrupt is a special kind of an interurpt that also masks over HLT (even when interrupts are already disabled, like NMI), that is used for thermal throttling of the CPU, power management, or hardware emulation.</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>}</div>
</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="foldopen" id="foldopen00185" data-start="{" data-end="}">
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="handlers_8c.html#acfe0741651b4edf7d92791e0656a5a48">  185</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#acfe0741651b4edf7d92791e0656a5a48">doublefault_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    <span class="comment">// We reached a double fault, an exception within an exception handler.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="comment">// To not reach a triple fault, we will bugcheck the system (similar to a windows bugcheck - BSOD)</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82ac76cffed7f5a7cc73ae64eb0df1d4a83">DOUBLE_FAULT</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>}</div>
</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="foldopen" id="foldopen00191" data-start="{" data-end="}">
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="handlers_8c.html#afdff5d9ebe56cdc7b4e405c5082f7016">  191</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#afdff5d9ebe56cdc7b4e405c5082f7016">dividebyzero_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(ctx);</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(intfr);</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">// handle diving by zero.</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0xFFFF0000, <span class="stringliteral">&quot;\nERROR: Dividing by zero is not allowed.\n&quot;</span>);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>}</div>
</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="foldopen" id="foldopen00198" data-start="{" data-end="}">
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="handlers_8c.html#a4c7a9e8b64a2217f1db9849da60f4c39">  198</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a4c7a9e8b64a2217f1db9849da60f4c39">debugsinglestep_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(ctx);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(intfr);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0xFFFF0000, <span class="stringliteral">&quot;\nERROR: Debugging is not currently supported, halting.\n&quot;</span>);</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    __hlt();</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>}</div>
</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="foldopen" id="foldopen00205" data-start="{" data-end="}">
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="handlers_8c.html#ae0aa5bdafbe39e536fe71b3cab07d767">  205</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#ae0aa5bdafbe39e536fe71b3cab07d767">nmi_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="comment">// severe problem, bugchecking.</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a87e52d2cb1f7eed8d18cc811445dc3d7">NON_MASKABLE_INTERRUPT</a>,0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>}</div>
</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="foldopen" id="foldopen00210" data-start="{" data-end="}">
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno"><a class="line" href="handlers_8c.html#a609ea769c187f7a0f997758b14ac3f73">  210</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a609ea769c187f7a0f997758b14ac3f73">breakpoint_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(ctx);</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(intfr);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0xFFFF0000, <span class="stringliteral">&quot;\nERROR: Debugging is not currently supported, halting.\n&quot;</span>);</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    __hlt();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>}</div>
</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="foldopen" id="foldopen00217" data-start="{" data-end="}">
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="handlers_8c.html#adac02289d8e565aee7c9effa80747f93">  217</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#adac02289d8e565aee7c9effa80747f93">overflow_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="comment">// almost never happens on modern systems (compilers dont generate the INTO instruction anymore, unless manual assembly is placed)</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="comment">// just bugcheck</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a07df634c8cb7e4cafe8b14c4172e3de7">OVERFLOW</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>}</div>
</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="foldopen" id="foldopen00223" data-start="{" data-end="}">
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="handlers_8c.html#a0ea5fd9348cbe6ab00ff2f3a872e664a">  223</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a0ea5fd9348cbe6ab00ff2f3a872e664a">boundscheck_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="comment">// bugcheck too, this is kernel mode.</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82aebcc435bdd66b726f1f9823509cc5809">BOUNDS_CHECK</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>}</div>
</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="foldopen" id="foldopen00228" data-start="{" data-end="}">
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="handlers_8c.html#aff8a45b5d56042eacac1147077281fb3">  228</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#aff8a45b5d56042eacac1147077281fb3">invalidopcode_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(ctx);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(intfr);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0xFFFF0000, <span class="stringliteral">&quot;\nERROR: Invalid CPU Instruction...\n&quot;</span>);</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>}</div>
</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="foldopen" id="foldopen00234" data-start="{" data-end="}">
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="handlers_8c.html#a6b703ce7de6f493f66cee51eb8e59a33">  234</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a6b703ce7de6f493f66cee51eb8e59a33">nocoprocessor_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    <span class="comment">// rarely triggered, if a floating point chip is not integrated, or is not attached, bugcheck.</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a27d757891efbf8ddbaba31968b943ffc">NO_COPROCESSOR</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>}</div>
</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="foldopen" id="foldopen00239" data-start="{" data-end="}">
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="handlers_8c.html#a26e585eb170d255d03c6323349df7e83">  239</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a26e585eb170d255d03c6323349df7e83">coprocessor_segment_overrun_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>    <span class="comment">// quite literally impossible in protected or long mode, since CPU&#39;s don&#39;t generate this exception on these modes, but if they did, bugcheck, severe code.</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a1a0ee5dd87418541502549cd7d87da92">COPROCESSOR_SEGMENT_OVERRUN</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>}</div>
</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="foldopen" id="foldopen00244" data-start="{" data-end="}">
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="handlers_8c.html#a0f81c6470be5e4bbb9f8b5e4997bbc5a">  244</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a0f81c6470be5e4bbb9f8b5e4997bbc5a">invalidtss_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    <span class="comment">// a tss is when the CPU hardware switches (usually does not happen, since OS&#39;es implement switching in software, like process timer context switch, all in software)</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    <span class="comment">// if it did happen though, we bugcheck.</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a97e80b6e5bb52587e0551b03d8a87070">INVALID_TSS</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>}</div>
</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="foldopen" id="foldopen00250" data-start="{" data-end="}">
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="handlers_8c.html#a8fec482647c6fb6fbbabdf55e602eef4">  250</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a8fec482647c6fb6fbbabdf55e602eef4">segment_selector_not_present_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    <span class="comment">// this happens when the CPU loads a segment that points to a valid descriptor, that is marked as &quot;not present&quot; (that the present bit is 0), which means it&#39;s swapped out to disk.</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    <span class="comment">// we don&#39;t have disk paging right now, we don&#39;t even have a current user mode or stable memory for now, so we just bugcheck.</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82adb32eceeecfe855034f998ddefab5bde">SEGMENT_SELECTOR_NOTPRESENT</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>}</div>
</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="foldopen" id="foldopen00256" data-start="{" data-end="}">
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="handlers_8c.html#a5d7427a65db4d25785ff5eb89fc07a53">  256</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a5d7427a65db4d25785ff5eb89fc07a53">stack_segment_overrun_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    <span class="comment">// this happens when the stack pointer (esp, rsp, sp on 16 bit) moves OUTSIDE the bounds of the current stack segment, this is different from a stack overflow at the software level, this is a hardware level exception.</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="comment">// segment limits on protected mode usually gets switched off, so if this happens just bugcheck.</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82acbf56036797b0df791819f5480a1a466">STACK_SEGMENT_OVERRUN</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>}</div>
</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="foldopen" id="foldopen00262" data-start="{" data-end="}">
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="handlers_8c.html#a1005cf7e59cf67342709473d87edf5bf">  262</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#a1005cf7e59cf67342709473d87edf5bf">gpf_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    <span class="comment">// important exception, view error code and bugcheck with it</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82ad675d88011ac94b90d8ef65d628fc13b">GENERAL_PROTECTION_FAULT</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>}</div>
</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="foldopen" id="foldopen00267" data-start="{" data-end="}">
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="handlers_8c.html#af0c0283a079f47d9979e594f76e7c5ed">  267</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#af0c0283a079f47d9979e594f76e7c5ed">fpu_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(ctx);</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <a class="code hl_define" href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a>(intfr);;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="comment">// this occurs when a floating point operation has an error, (even division by zero floating point will get here), or underflow/overflow</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    <a class="code hl_function" href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a>(&amp;<a class="code hl_variable" href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a>, 0xFFFF0000, <span class="stringliteral">&quot;Error: Floating Point error, have you done a correct calculation?\n&quot;</span>);</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>}</div>
</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="foldopen" id="foldopen00274" data-start="{" data-end="}">
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="handlers_8c.html#ae2c429574b397c858bb4b59c670e1ce4">  274</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#ae2c429574b397c858bb4b59c670e1ce4">alignment_check_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="comment">// 3 conditions must be met in-order for this to even reach.</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="comment">// CR0.AM (Alignment Mask) must be set to 1.</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    <span class="comment">// EFLAGS.AC (Alignment Check) must be set to 1.</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="comment">// CPL (user mode or kernel mode) must be set to 3. (user mode only)</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="comment">// If all are 1 and a stack alignment occurs (when doing char* ptr = kmalloc(64, 16); then writing like this *((uint32_t*)ptr) = 0xdeadbeef; // It&#39;s an unaligned write, writing more than there is.</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="comment">// for now, bugcheck.</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a6e5b58ac1832f6e8c74c43b27992b3b0">ALIGNMENT_CHECK</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>}</div>
</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span> </div>
<div class="foldopen" id="foldopen00284" data-start="{" data-end="}">
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="handlers_8c.html#abf78eebebdfe77d4d5cb902171c44173">  284</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="handlers_8c.html#abf78eebebdfe77d4d5cb902171c44173">severe_machine_check_handler</a>(<a class="code hl_typedef" href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a>* ctx, <a class="code hl_typedef" href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a>* intfr) {</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    <span class="comment">// creepy.</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="comment">// This happens when the machine has a SEVERE problem, memory faults, CPU internal fault, all of that, the cpu registers this.</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    <span class="comment">// obviously bugcheck.</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <a class="code hl_function" href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a>(ctx, intfr, <a class="code hl_enumvalue" href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a12654d2e9be8ec0848207e887ece4442">SEVERE_MACHINE_CHECK</a>, 0, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>}</div>
</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="ttc" id="abugcheck_8c_html_ad3e70ba50f805f295792f5dc66599d51"><div class="ttname"><a href="bugcheck_8c.html#ad3e70ba50f805f295792f5dc66599d51">cursor_y</a></div><div class="ttdeci">uint32_t cursor_y</div><div class="ttdef"><b>Definition</b> <a href="gop_8c_source.html#l00012">gop.c:12</a></div></div>
<div class="ttc" id="abugcheck_8c_html_ad8ca0be32b831aec9de80bcf0e22107e"><div class="ttname"><a href="bugcheck_8c.html#ad8ca0be32b831aec9de80bcf0e22107e">gop_local</a></div><div class="ttdeci">GOP_PARAMS gop_local</div><div class="ttdef"><b>Definition</b> <a href="kernel_8c_source.html#l00012">kernel.c:12</a></div></div>
<div class="ttc" id="abugcheck_8c_html_ae9d4f8559ac9ca457e572c1f95d3f9a4"><div class="ttname"><a href="bugcheck_8c.html#ae9d4f8559ac9ca457e572c1f95d3f9a4">bugcheck_system</a></div><div class="ttdeci">void bugcheck_system(CTX_FRAME *context, INT_FRAME *int_frame, BUGCHECK_CODES err_code, uint32_t additional, bool isAdditionals)</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8c_source.html#l00140">bugcheck.c:140</a></div></div>
<div class="ttc" id="abugcheck_8c_html_aed43839a3c8b74504a97930edbe8b735"><div class="ttname"><a href="bugcheck_8c.html#aed43839a3c8b74504a97930edbe8b735">cursor_x</a></div><div class="ttdeci">uint32_t cursor_x</div><div class="ttdef"><b>Definition</b> <a href="gop_8c_source.html#l00012">gop.c:12</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a07df634c8cb7e4cafe8b14c4172e3de7"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a07df634c8cb7e4cafe8b14c4172e3de7">OVERFLOW</a></div><div class="ttdeci">@ OVERFLOW</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00022">bugcheck.h:22</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a12654d2e9be8ec0848207e887ece4442"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a12654d2e9be8ec0848207e887ece4442">SEVERE_MACHINE_CHECK</a></div><div class="ttdeci">@ SEVERE_MACHINE_CHECK</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00036">bugcheck.h:36</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a1a0ee5dd87418541502549cd7d87da92"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a1a0ee5dd87418541502549cd7d87da92">COPROCESSOR_SEGMENT_OVERRUN</a></div><div class="ttdeci">@ COPROCESSOR_SEGMENT_OVERRUN</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00027">bugcheck.h:27</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a27d757891efbf8ddbaba31968b943ffc"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a27d757891efbf8ddbaba31968b943ffc">NO_COPROCESSOR</a></div><div class="ttdeci">@ NO_COPROCESSOR</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00025">bugcheck.h:25</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a2db740fb6a5417e1647960fb0f8a3a33"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a2db740fb6a5417e1647960fb0f8a3a33">PAGE_FAULT</a></div><div class="ttdeci">@ PAGE_FAULT</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00032">bugcheck.h:32</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a6e5b58ac1832f6e8c74c43b27992b3b0"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a6e5b58ac1832f6e8c74c43b27992b3b0">ALIGNMENT_CHECK</a></div><div class="ttdeci">@ ALIGNMENT_CHECK</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00035">bugcheck.h:35</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a87e52d2cb1f7eed8d18cc811445dc3d7"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a87e52d2cb1f7eed8d18cc811445dc3d7">NON_MASKABLE_INTERRUPT</a></div><div class="ttdeci">@ NON_MASKABLE_INTERRUPT</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00020">bugcheck.h:20</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82a97e80b6e5bb52587e0551b03d8a87070"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82a97e80b6e5bb52587e0551b03d8a87070">INVALID_TSS</a></div><div class="ttdeci">@ INVALID_TSS</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00028">bugcheck.h:28</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82ac76cffed7f5a7cc73ae64eb0df1d4a83"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82ac76cffed7f5a7cc73ae64eb0df1d4a83">DOUBLE_FAULT</a></div><div class="ttdeci">@ DOUBLE_FAULT</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00026">bugcheck.h:26</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82acbf56036797b0df791819f5480a1a466"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82acbf56036797b0df791819f5480a1a466">STACK_SEGMENT_OVERRUN</a></div><div class="ttdeci">@ STACK_SEGMENT_OVERRUN</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00030">bugcheck.h:30</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82ad675d88011ac94b90d8ef65d628fc13b"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82ad675d88011ac94b90d8ef65d628fc13b">GENERAL_PROTECTION_FAULT</a></div><div class="ttdeci">@ GENERAL_PROTECTION_FAULT</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00031">bugcheck.h:31</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82adb32eceeecfe855034f998ddefab5bde"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82adb32eceeecfe855034f998ddefab5bde">SEGMENT_SELECTOR_NOTPRESENT</a></div><div class="ttdeci">@ SEGMENT_SELECTOR_NOTPRESENT</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00029">bugcheck.h:29</a></div></div>
<div class="ttc" id="abugcheck_8h_html_a3dd6c077b2422dcc0d05246537da5c82aebcc435bdd66b726f1f9823509cc5809"><div class="ttname"><a href="bugcheck_8h.html#a3dd6c077b2422dcc0d05246537da5c82aebcc435bdd66b726f1f9823509cc5809">BOUNDS_CHECK</a></div><div class="ttdeci">@ BOUNDS_CHECK</div><div class="ttdef"><b>Definition</b> <a href="bugcheck_8h_source.html#l00023">bugcheck.h:23</a></div></div>
<div class="ttc" id="acpu__types_8h_html_a1aa24edc1ea7270821fa045a386390f3"><div class="ttname"><a href="cpu__types_8h.html#a1aa24edc1ea7270821fa045a386390f3">INT_FRAME</a></div><div class="ttdeci">struct _INT_FRAME INT_FRAME</div></div>
<div class="ttc" id="acpu__types_8h_html_a5d218e5c26f9e9afec421f768f8d0b02abd393abde0837104a6fa0e441d063e78"><div class="ttname"><a href="cpu__types_8h.html#a5d218e5c26f9e9afec421f768f8d0b02abd393abde0837104a6fa0e441d063e78">DPC_SCHEDULE</a></div><div class="ttdeci">@ DPC_SCHEDULE</div><div class="ttdef"><b>Definition</b> <a href="cpu__types_8h_source.html#l00115">cpu_types.h:115</a></div></div>
<div class="ttc" id="acpu__types_8h_html_ab43279866db2c797f7ec886b4ac344d6a06b314d863076d54942e065d90c179c4"><div class="ttname"><a href="cpu__types_8h.html#ab43279866db2c797f7ec886b4ac344d6a06b314d863076d54942e065d90c179c4">MEDIUM_PRIORITY</a></div><div class="ttdeci">@ MEDIUM_PRIORITY</div><div class="ttdef"><b>Definition</b> <a href="cpu__types_8h_source.html#l00108">cpu_types.h:108</a></div></div>
<div class="ttc" id="acpu__types_8h_html_ab4a5c3c2096f05e5f0db35f80685b4a2"><div class="ttname"><a href="cpu__types_8h.html#ab4a5c3c2096f05e5f0db35f80685b4a2">DPC</a></div><div class="ttdeci">struct _DPC DPC</div><div class="ttdef"><b>Definition</b> <a href="cpu__types_8h_source.html#l00015">cpu_types.h:15</a></div></div>
<div class="ttc" id="acpu__types_8h_html_ac240bdf341c5e0ae333252cd5ecf0261"><div class="ttname"><a href="cpu__types_8h.html#ac240bdf341c5e0ae333252cd5ecf0261">CTX_FRAME</a></div><div class="ttdeci">struct _CTX_FRAME CTX_FRAME</div></div>
<div class="ttc" id="adpc_8c_html_a259cfa6004e8db5410d537c1169015c9"><div class="ttname"><a href="dpc_8c.html#a259cfa6004e8db5410d537c1169015c9">queue_dpc</a></div><div class="ttdeci">void queue_dpc(DPC *dpc)</div><div class="ttdef"><b>Definition</b> <a href="dpc_8c_source.html#l00018">dpc.c:18</a></div></div>
<div class="ttc" id="agop_8c_html_a44b1c4235c1f4e5d6abaa88c06c32595"><div class="ttname"><a href="gop_8c.html#a44b1c4235c1f4e5d6abaa88c06c32595">gop_printf</a></div><div class="ttdeci">void gop_printf(GOP_PARAMS *gop, uint32_t color, const char *fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="gop_8c_source.html#l00163">gop.c:163</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a03355b09418c2d88081c29484c82eccb"><div class="ttname"><a href="handlers_8c.html#a03355b09418c2d88081c29484c82eccb">shift_pressed</a></div><div class="ttdeci">bool shift_pressed</div><div class="ttdef"><b>Definition</b> <a href="#l00034">handlers.c:34</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a0ea5fd9348cbe6ab00ff2f3a872e664a"><div class="ttname"><a href="handlers_8c.html#a0ea5fd9348cbe6ab00ff2f3a872e664a">boundscheck_handler</a></div><div class="ttdeci">void boundscheck_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00223">handlers.c:223</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a0f81c6470be5e4bbb9f8b5e4997bbc5a"><div class="ttname"><a href="handlers_8c.html#a0f81c6470be5e4bbb9f8b5e4997bbc5a">invalidtss_handler</a></div><div class="ttdeci">void invalidtss_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00244">handlers.c:244</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a1005cf7e59cf67342709473d87edf5bf"><div class="ttname"><a href="handlers_8c.html#a1005cf7e59cf67342709473d87edf5bf">gpf_handler</a></div><div class="ttdeci">void gpf_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00262">handlers.c:262</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a1541347c599f4bf15b5f4e3f24fa30e3"><div class="ttname"><a href="handlers_8c.html#a1541347c599f4bf15b5f4e3f24fa30e3">scancode_to_ascii_shift</a></div><div class="ttdeci">char scancode_to_ascii_shift[]</div><div class="ttdef"><b>Definition</b> <a href="#l00023">handlers.c:23</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a26e585eb170d255d03c6323349df7e83"><div class="ttname"><a href="handlers_8c.html#a26e585eb170d255d03c6323349df7e83">coprocessor_segment_overrun_handler</a></div><div class="ttdeci">void coprocessor_segment_overrun_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00239">handlers.c:239</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a2f4098fc71cbd39422c1001d66970bf5"><div class="ttname"><a href="handlers_8c.html#a2f4098fc71cbd39422c1001d66970bf5">keyboard_handler</a></div><div class="ttdeci">void keyboard_handler()</div><div class="ttdef"><b>Definition</b> <a href="#l00046">handlers.c:46</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a4c7a9e8b64a2217f1db9849da60f4c39"><div class="ttname"><a href="handlers_8c.html#a4c7a9e8b64a2217f1db9849da60f4c39">debugsinglestep_handler</a></div><div class="ttdeci">void debugsinglestep_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00198">handlers.c:198</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a5d7427a65db4d25785ff5eb89fc07a53"><div class="ttname"><a href="handlers_8c.html#a5d7427a65db4d25785ff5eb89fc07a53">stack_segment_overrun_handler</a></div><div class="ttdeci">void stack_segment_overrun_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00256">handlers.c:256</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a609ea769c187f7a0f997758b14ac3f73"><div class="ttname"><a href="handlers_8c.html#a609ea769c187f7a0f997758b14ac3f73">breakpoint_handler</a></div><div class="ttdeci">void breakpoint_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00210">handlers.c:210</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a60d47ef3d9ff7566f06b13180b08bb29"><div class="ttname"><a href="handlers_8c.html#a60d47ef3d9ff7566f06b13180b08bb29">init_timer</a></div><div class="ttdeci">void init_timer(unsigned long int frequency)</div><div class="ttdef"><b>Definition</b> <a href="#l00134">handlers.c:134</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a6b703ce7de6f493f66cee51eb8e59a33"><div class="ttname"><a href="handlers_8c.html#a6b703ce7de6f493f66cee51eb8e59a33">nocoprocessor_handler</a></div><div class="ttdeci">void nocoprocessor_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00234">handlers.c:234</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a8bd92ab3be854bc4caa930a5df66594b"><div class="ttname"><a href="handlers_8c.html#a8bd92ab3be854bc4caa930a5df66594b">scancode_to_ascii</a></div><div class="ttdeci">char scancode_to_ascii[]</div><div class="ttdef"><b>Definition</b> <a href="#l00015">handlers.c:15</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a8fec482647c6fb6fbbabdf55e602eef4"><div class="ttname"><a href="handlers_8c.html#a8fec482647c6fb6fbbabdf55e602eef4">segment_selector_not_present_handler</a></div><div class="ttdeci">void segment_selector_not_present_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00250">handlers.c:250</a></div></div>
<div class="ttc" id="ahandlers_8c_html_a9e63ea32abae3f871fcbe66fd99003b2"><div class="ttname"><a href="handlers_8c.html#a9e63ea32abae3f871fcbe66fd99003b2">timer_handler</a></div><div class="ttdeci">void timer_handler()</div><div class="ttdef"><b>Definition</b> <a href="#l00157">handlers.c:157</a></div></div>
<div class="ttc" id="ahandlers_8c_html_abf78eebebdfe77d4d5cb902171c44173"><div class="ttname"><a href="handlers_8c.html#abf78eebebdfe77d4d5cb902171c44173">severe_machine_check_handler</a></div><div class="ttdeci">void severe_machine_check_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00284">handlers.c:284</a></div></div>
<div class="ttc" id="ahandlers_8c_html_ac3a72156d4bbba013e4d62801992794d"><div class="ttname"><a href="handlers_8c.html#ac3a72156d4bbba013e4d62801992794d">init_keyboard</a></div><div class="ttdeci">void init_keyboard()</div><div class="ttdef"><b>Definition</b> <a href="#l00039">handlers.c:39</a></div></div>
<div class="ttc" id="ahandlers_8c_html_ac6967370e83425329246124a56e29b57"><div class="ttname"><a href="handlers_8c.html#ac6967370e83425329246124a56e29b57">pagefault_handler</a></div><div class="ttdeci">void pagefault_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00170">handlers.c:170</a></div></div>
<div class="ttc" id="ahandlers_8c_html_aca50450c34efc412517edefbb05ea87a"><div class="ttname"><a href="handlers_8c.html#aca50450c34efc412517edefbb05ea87a">caps_lock_on</a></div><div class="ttdeci">bool caps_lock_on</div><div class="ttdef"><b>Definition</b> <a href="#l00036">handlers.c:36</a></div></div>
<div class="ttc" id="ahandlers_8c_html_acf90c91bd409d8a245d668b907a3ff40"><div class="ttname"><a href="handlers_8c.html#acf90c91bd409d8a245d668b907a3ff40">ata_handler</a></div><div class="ttdeci">void ata_handler(void)</div><div class="ttdef"><b>Definition</b> <a href="#l00164">handlers.c:164</a></div></div>
<div class="ttc" id="ahandlers_8c_html_acfe0741651b4edf7d92791e0656a5a48"><div class="ttname"><a href="handlers_8c.html#acfe0741651b4edf7d92791e0656a5a48">doublefault_handler</a></div><div class="ttdeci">void doublefault_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00185">handlers.c:185</a></div></div>
<div class="ttc" id="ahandlers_8c_html_adac02289d8e565aee7c9effa80747f93"><div class="ttname"><a href="handlers_8c.html#adac02289d8e565aee7c9effa80747f93">overflow_handler</a></div><div class="ttdeci">void overflow_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00217">handlers.c:217</a></div></div>
<div class="ttc" id="ahandlers_8c_html_ae0aa5bdafbe39e536fe71b3cab07d767"><div class="ttname"><a href="handlers_8c.html#ae0aa5bdafbe39e536fe71b3cab07d767">nmi_handler</a></div><div class="ttdeci">void nmi_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00205">handlers.c:205</a></div></div>
<div class="ttc" id="ahandlers_8c_html_ae2c429574b397c858bb4b59c670e1ce4"><div class="ttname"><a href="handlers_8c.html#ae2c429574b397c858bb4b59c670e1ce4">alignment_check_handler</a></div><div class="ttdeci">void alignment_check_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00274">handlers.c:274</a></div></div>
<div class="ttc" id="ahandlers_8c_html_ae9f12d42ef17c61f3520b3122fda59b8"><div class="ttname"><a href="handlers_8c.html#ae9f12d42ef17c61f3520b3122fda59b8">extended_scancode</a></div><div class="ttdeci">bool extended_scancode</div><div class="ttdef"><b>Definition</b> <a href="#l00037">handlers.c:37</a></div></div>
<div class="ttc" id="ahandlers_8c_html_aec4e866abc16cc8217d33dfae87d5877"><div class="ttname"><a href="handlers_8c.html#aec4e866abc16cc8217d33dfae87d5877">ctrl_pressed</a></div><div class="ttdeci">bool ctrl_pressed</div><div class="ttdef"><b>Definition</b> <a href="#l00035">handlers.c:35</a></div></div>
<div class="ttc" id="ahandlers_8c_html_af0c0283a079f47d9979e594f76e7c5ed"><div class="ttname"><a href="handlers_8c.html#af0c0283a079f47d9979e594f76e7c5ed">fpu_handler</a></div><div class="ttdeci">void fpu_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00267">handlers.c:267</a></div></div>
<div class="ttc" id="ahandlers_8c_html_afdff5d9ebe56cdc7b4e405c5082f7016"><div class="ttname"><a href="handlers_8c.html#afdff5d9ebe56cdc7b4e405c5082f7016">dividebyzero_handler</a></div><div class="ttdeci">void dividebyzero_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00191">handlers.c:191</a></div></div>
<div class="ttc" id="ahandlers_8c_html_aff8a45b5d56042eacac1147077281fb3"><div class="ttname"><a href="handlers_8c.html#aff8a45b5d56042eacac1147077281fb3">invalidopcode_handler</a></div><div class="ttdeci">void invalidopcode_handler(CTX_FRAME *ctx, INT_FRAME *intfr)</div><div class="ttdef"><b>Definition</b> <a href="#l00228">handlers.c:228</a></div></div>
<div class="ttc" id="ahandlers_8h_html"><div class="ttname"><a href="handlers_8h.html">handlers.h</a></div></div>
<div class="ttc" id="ahandlers_8h_html_a49e0a04e81098085d2948c1e9f8c99cb"><div class="ttname"><a href="handlers_8h.html#a49e0a04e81098085d2948c1e9f8c99cb">KEYBOARD_DATA_PORT</a></div><div class="ttdeci">#define KEYBOARD_DATA_PORT</div><div class="ttdef"><b>Definition</b> <a href="handlers_8h_source.html#l00017">handlers.h:17</a></div></div>
<div class="ttc" id="aidt_8h_html"><div class="ttname"><a href="idt_8h.html">idt.h</a></div></div>
<div class="ttc" id="aidt_8h_html_a170d8eebdb48c16cfcd60cbd46760cb2"><div class="ttname"><a href="idt_8h.html#a170d8eebdb48c16cfcd60cbd46760cb2">PIC_EOI</a></div><div class="ttdeci">#define PIC_EOI</div><div class="ttdef"><b>Definition</b> <a href="idt_8h_source.html#l00022">idt.h:22</a></div></div>
<div class="ttc" id="aintrin_8h_html_a7b1a47a94be3cc9455621cecad58b168"><div class="ttname"><a href="intrin_8h.html#a7b1a47a94be3cc9455621cecad58b168">UNREFERENCED_PARAMETER</a></div><div class="ttdeci">#define UNREFERENCED_PARAMETER(x)</div><div class="ttdef"><b>Definition</b> <a href="intrin_8h_source.html#l00019">intrin.h:19</a></div></div>
<div class="ttc" id="ascancodes_8h_html"><div class="ttname"><a href="scancodes_8h.html">scancodes.h</a></div></div>
<div class="ttc" id="ascancodes_8h_html_a02f6fdc117edff5bfcdc66ee3d62398f"><div class="ttname"><a href="scancodes_8h.html#a02f6fdc117edff5bfcdc66ee3d62398f">KEYBOARD_SCANCODE_PRESSED_LEFT_SHIFT</a></div><div class="ttdeci">#define KEYBOARD_SCANCODE_PRESSED_LEFT_SHIFT</div><div class="ttdef"><b>Definition</b> <a href="scancodes_8h_source.html#l00024">scancodes.h:24</a></div></div>
<div class="ttc" id="ascancodes_8h_html_a093a7a1d5631e4b6d418b68d84c061f3"><div class="ttname"><a href="scancodes_8h.html#a093a7a1d5631e4b6d418b68d84c061f3">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_DOWN</a></div><div class="ttdeci">#define KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_DOWN</div><div class="ttdef"><b>Definition</b> <a href="scancodes_8h_source.html#l00033">scancodes.h:33</a></div></div>
<div class="ttc" id="ascancodes_8h_html_a4d0a3c995b55a478cb45183d5862839d"><div class="ttname"><a href="scancodes_8h.html#a4d0a3c995b55a478cb45183d5862839d">KEYBOARD_SCANCODE_RELEASE_LEFT_SHIFT</a></div><div class="ttdeci">#define KEYBOARD_SCANCODE_RELEASE_LEFT_SHIFT</div><div class="ttdef"><b>Definition</b> <a href="scancodes_8h_source.html#l00038">scancodes.h:38</a></div></div>
<div class="ttc" id="ascancodes_8h_html_a838e608083862972f20f923742dad707"><div class="ttname"><a href="scancodes_8h.html#a838e608083862972f20f923742dad707">KEYBOARD_SCANCODE_PRESSED_CAPS_LOCK</a></div><div class="ttdeci">#define KEYBOARD_SCANCODE_PRESSED_CAPS_LOCK</div><div class="ttdef"><b>Definition</b> <a href="scancodes_8h_source.html#l00028">scancodes.h:28</a></div></div>
<div class="ttc" id="ascancodes_8h_html_a8f68d454a58c300470d4b9aff84942ce"><div class="ttname"><a href="scancodes_8h.html#a8f68d454a58c300470d4b9aff84942ce">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_RIGHT</a></div><div class="ttdeci">#define KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_RIGHT</div><div class="ttdef"><b>Definition</b> <a href="scancodes_8h_source.html#l00034">scancodes.h:34</a></div></div>
<div class="ttc" id="ascancodes_8h_html_aa768204f007f39e026b44a9c749a01f2"><div class="ttname"><a href="scancodes_8h.html#aa768204f007f39e026b44a9c749a01f2">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_UP</a></div><div class="ttdeci">#define KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_UP</div><div class="ttdef"><b>Definition</b> <a href="scancodes_8h_source.html#l00031">scancodes.h:31</a></div></div>
<div class="ttc" id="ascancodes_8h_html_aef133551f8fb1e1fd7a6107dde5466e6"><div class="ttname"><a href="scancodes_8h.html#aef133551f8fb1e1fd7a6107dde5466e6">KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_LEFT</a></div><div class="ttdeci">#define KEYBOARD_SCANCODE_EXTENDED_PRESSED_CURSOR_LEFT</div><div class="ttdef"><b>Definition</b> <a href="scancodes_8h_source.html#l00032">scancodes.h:32</a></div></div>
<div class="ttc" id="ascheduler_8c_html_a5cd3bdc987e82c62c283955de9576114"><div class="ttname"><a href="scheduler_8c.html#a5cd3bdc987e82c62c283955de9576114">TimerDPC</a></div><div class="ttdeci">void TimerDPC(void)</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00091">scheduler.c:91</a></div></div>
<div class="ttc" id="ascheduler_8c_html_aa019b7be548d953c1444c81e2e8145a0"><div class="ttname"><a href="scheduler_8c.html#aa019b7be548d953c1444c81e2e8145a0">isScheduleDpcQueued</a></div><div class="ttdeci">bool isScheduleDpcQueued</div><div class="ttdef"><b>Definition</b> <a href="scheduler_8c_source.html#l00015">scheduler.c:15</a></div></div>
<div class="ttc" id="auefi__memory_8h_html_a76f436ea56fd593cab07a6800d630828"><div class="ttname"><a href="uefi__memory_8h.html#a76f436ea56fd593cab07a6800d630828">GOP_PARAMS</a></div><div class="ttdeci">struct _GOP_PARAMS GOP_PARAMS</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d522931ffa1371640980b621734a4381.html">Users</a></li><li class="navelem"><a href="dir_e4108698badaaf36ae0e3b14b6bcf359.html">matanel</a></li><li class="navelem"><a href="dir_4e60904b950616c42c0f817452614c20.html">Desktop</a></li><li class="navelem"><a href="dir_99fc1fd6614120fc91b3fe1bddd34da0.html">Projects</a></li><li class="navelem"><a href="dir_b3e2b2d55acba24480631368833d62ed.html">KernelDevelopment</a></li><li class="navelem"><a href="dir_65de698274afa69a99ce1d85982b80cd.html">kernel</a></li><li class="navelem"><a href="dir_4dcaf838e7d50812e168cf6eec4d1018.html">interrupts</a></li><li class="navelem"><a href="dir_342368e76629003bb5083ff8e7a51b9e.html">handlers</a></li><li class="navelem"><a href="handlers_8c.html">handlers.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
